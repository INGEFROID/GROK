<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Ing√©Froid - Bureau d'√©tude en r√©frig√©ration</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white">
    <header class="bg-white dark:bg-gray-800 p-4 shadow">
        <h1 class="text-2xl font-bold">Ing√©Froid - Bureau d'√©tude en r√©frig√©ration</h1>
        <button onclick="nouveauProjet()" class="bg-purple-600 text-white px-4 py-2 rounded">Nouveau Projet</button>
        <button onclick="sauvegarder()" class="bg-green-600 text-white px-4 py-2 rounded">Sauvegarder</button>
    </header>

    <section id="mes-projets" class="p-6">
        <h2 class="text-2xl font-bold">Mes Projets</h2>
        <p>Bienvenue dans LAMA ECCP</p>
        <p>Cr√©ez vos premi√®res soumissions frigorifiques professionnelles en quelques clics. Commencez par cr√©er un nouveau projet.</p>
        <button class="bg-purple-600 text-white px-4 py-2 rounded">Cr√©er mon premier projet</button>
    </section>

    <ul class="tab-links flex space-x-4 p-4 border-b">
        <li data-tab="infos-generales">Informations g√©n√©rales</li>
        <li data-tab="raccordements-postes">Raccordements postes</li>
        <li data-tab="chambres-froides">Chambres froides</li>
        <li data-tab="evaporateurs">√âvaporateurs</li>
        <li data-tab="production-frigorifique">Production frigorifique</li>
        <li data-tab="apercu-export">Aper√ßu & Export</li>
    </ul>

    <div id="infos-generales" class="tab-content p-6 hidden">
        <form id="form-infos">
            <label>Marque / Bureau d'√©tudes</label>
            <div class="flex space-x-4">
                <label><input type="radio" name="marque" value="Ing√©Froid"> Ing√©Froid</label>
                <label><input type="radio" name="marque" value="LAMA ECCP"> LAMA ECCP</label>
            </div>
            <label>Nom du projet <input name="nom-projet" placeholder="Ex: Installation Universit√© de Neuch√¢tel"></label>
            <label>Client <input name="client" placeholder="Ex: Universit√© de Neuch√¢tel"></label>
            <div class="bg-blue-100 p-4 rounded">
                <label>üå°Ô∏è R√©frig√©rant positif <select name="refrig-positif">
                    <option>R513A (HFO/HFC - A1)</option>
                    <option>R454C (HFO/HFC - A2L)</option>
                    <option>R455A (HFO/HFC - A2L)</option>
                    <option>R744 (CO‚ÇÇ - A1)</option>
                    <option>R448A (HFO/HFC - A1)</option>
                    <option>R449A (HFO/HFC - A1)</option>
                </select></label>
                <label>R√©frig√©rant n√©gatif <select name="refrig-negatif">
                    <option>R454C (HFO/HFC - A2L)</option>
                    <option>R455A (HFO/HFC - A2L)</option>
                    <option>R513A (HFO/HFC - A1)</option>
                    <option>R744 (CO‚ÇÇ - A1)</option>
                    <option>R448A (HFO/HFC - A1)</option>
                    <option>R449A (HFO/HFC - A1)</option>
                </select></label>
                <p class="text-orange-500">A1 = Non inflammable | A2L = Faiblement inflammable</p>
            </div>
            <label>Description du projet <textarea name="description" placeholder="Ex: Installation frigorifique compl√®te..."></textarea></label>
        </form>
    </div>

    <!-- Autres onglets similaires, avec bouton ajouter et list -->
    <div id="raccordements-postes" class="tab-content p-6 hidden">
        <h2>Raccordements postes</h2>
        <button onclick="ajouterItem('raccordements')">Ajouter un raccordement</button>
        <div id="raccordements-list"></div>
    </div>

    <div id="chambres-froides" class="tab-content p-6 hidden">
        <h2>Chambres froides</h2>
        <button onclick="ajouterItem('chambres')">Ajouter une chambre</button>
        <div id="chambres-list"></div>
    </div>

    <div id="evaporateurs" class="tab-content p-6 hidden">
        <h2>√âvaporateurs</h2>
        <button onclick="ajouterItem('evaporateurs')">Ajouter un √©vaporateur</button>
        <div id="evaporateurs-list"></div>
    </div>

    <div id="production-frigorifique" class="tab-content p-6 hidden">
        <h2>Production frigorifique</h2>
        <button onclick="ajouterItem('production')">Ajouter une production</button>
        <div id="production-list"></div>
    </div>

    <div id="apercu-export" class="tab-content p-6 hidden">
        <h2>Aper√ßu & Export</h2>
        <div id="apercu"></div>
        <button onclick="genererPDF()">Exporter Soumission PDF</button>
    </div>

    <script>
        let data = { infos: {}, raccordements: [], chambres: [], evaporateurs: [], production: [] };

        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('projetData')) {
                data = JSON.parse(localStorage.getItem('projetData'));
            }
            initTabs();
            renderAll();
        });

        function initTabs() {
            const tabs = document.querySelectorAll('.tab-links li');
            tabs.forEach(tab => tab.addEventListener('click', () => {
                document.querySelectorAll('.tab-content').forEach(c => c.style.display = 'none');
                document.getElementById(tab.dataset.tab).style.display = 'block';
            }));
            tabs[0].click();
        }

        function ajouterItem(type) {
            const list = document.getElementById(type + '-list');
            const item = document.createElement('div');
            item.className = 'item';
            item.innerHTML = getItemHTML(type);
            list.appendChild(item);
            saveData();
        }

        function getItemHTML(type) {
            if (type === 'chambres') {
                return `
                    <h3>Nouvelle Chambre Froide</h3>
                    <input placeholder="Position" name="position">
                    <input placeholder="Nom" name="nom">
                    <select name="type"><option>Positive</option><option>N√©gative</option><option>Boissons</option></select>
                    <input placeholder="Dimensions ext" name="dim_ext">
                    <input placeholder="Dimensions int" name="dim_int">
                    <select name="epaisseur"><option>100</option><option>160</option></select>
                    <select name="porte"><option>Battant</option><option>Coulissante</option></select>
                    <input placeholder="Vide passage" name="passage">
                    <button onclick="this.parentElement.remove(); saveData()">Supprimer</button>
                `;
            } // Ajoute pour les autres types
            return '';
        }

        function saveData() {
            localStorage.setItem('projetData', JSON.stringify(data));
        }

        function renderAll() {
            // Fill lists with data
        }

        function nouveauProjet() {
            localStorage.clear();
            location.reload();
        }

        function sauvegarder() {
            alert('Sauvegard√© !');
        }

        function genererPDF() {
            const doc = new jsPDF();
            doc.text('Soumission', 20, 20);
            doc.save('soumission.pdf');
        }
   </script>
</body>
</html>
